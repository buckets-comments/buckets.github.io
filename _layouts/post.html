---
layout: default
---
<div class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-meta">{{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{ page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif %}</p>
  </header>

  <article class="post-content">
    {{ content }}
  </article>


  {% assign comments = site.data.comments[page.slug] %}

  {% if comments %}
  <h2>Comments</h2>

  <div class="comments">
  {% for comment in comments %}
    {% assign email = comment[1].email %}
    {% assign name = comment[1].name %}
    {% assign date = comment[1].date %}
    {% assign message = comment[1].message %}
    {% include comment.html index=forloop.index email=email name=name date=date message=message %}
  {% endfor %}
  </div>
  {% endif %}

  <div class="comment-form">
    <a name="comment-form"></a>
    <script>
      if (window.location.search.substr(1).indexOf('comment=submitted') !== -1) {
        document.write(`<div class="notification">Comment submitted!  Your comment will be posted here after being reviewed.</div>`);
      }
    </script>
    <h3>Add comment</h3>
    <form method="POST" action="https://api.staticman.net/v2/entry/buckets/buckets.github.io/master/comments">
      <input name="options[redirect]" type="hidden" value="{{ site.url }}{{ page.url }}?comment=submitted#comment-form">
      <input name="options[slug]" type="hidden" value="{{ page.slug }}">

      <div>
        <label>Name:<br/><input name="fields[name]" type="text"></label>
      </div>
      <div>
        <label>Email (not displayed):<br/><input name="fields[email]" type="email"></label>
      </div>
      <div>
        <label>Message:</label>
        <div>
          <textarea name="fields[message]"></textarea>
        </div>
      </div>

      <div>
        <button type="submit">Add comment</button>
      </div>
        
    </form>
  </div>
</div>
